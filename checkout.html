<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - Optimen</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="js/products.js"></script>
    <script src="js/categories.js"></script>
    <script src="js/app.js"></script>
</head>
<body class="bg-gray-50 text-gray-800 font-sans">
<!-- Header -->
<header id="main-header" class="bg-gradient-to-r from-blue-900 to-blue-700 text-white shadow-lg sticky top-0 z-50">
    <div class="container mx-auto px-4 py-3">
        <div class="flex justify-between items-center">
            <!-- Logo -->
            <a href="index.html" class="flex items-center">
                <h1 id="logo-text" class="text-3xl font-bold">
                    <span id="logo-prefix" class="text-white">Opti</span><span id="logo-highlight" class="text-yellow-400">men</span>
                </h1>
            </a>

            <!-- Desktop Navigation -->
            <nav id="desktop-nav" class="hidden md:flex space-x-6">
                <a href="index.html" id="nav-home" class="hover:text-yellow-400 font-medium transition">Home</a>
                <a href="products.html" id="nav-products" class="hover:text-yellow-400 font-medium transition">Products</a>
                <a href="index.html#about" id="nav-about" class="hover:text-yellow-400 font-medium transition">About</a>
                <a href="index.html#testimonials" id="nav-testimonials" class="hover:text-yellow-400 font-medium transition">Testimonials</a>
            </nav>

            <!-- Cart and Mobile Menu Icons -->
            <div id="header-icons" class="flex items-center space-x-4">
                <a href="cart.html" id="cart-icon" class="relative p-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                    </svg>
                    <span id="cart-badge"
                          x-data
                          x-text="Alpine.store('cart').getTotalItems()"
                          x-show="Alpine.store('cart').getTotalItems() > 0"
                          class="absolute -top-1 -right-1 bg-yellow-400 text-blue-900 rounded-full h-5 w-5 flex items-center justify-center text-xs font-bold">
                        </span>
                </a>
                <button id="mobile-menu-button" class="md:hidden p-2" @click="Alpine.store('ui').toggleMobileMenu()">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
            </div>
        </div>

        <!-- Mobile Navigation -->
        <nav id="mobile-nav"
             x-data
             x-show="Alpine.store('ui').mobileMenuOpen"
             x-transition
             class="md:hidden mt-4 pb-2">
            <div class="flex flex-col space-y-3">
                <a href="index.html" id="mobile-nav-home" class="hover:text-yellow-400 font-medium transition">Home</a>
                <a href="products.html" id="mobile-nav-products" class="hover:text-yellow-400 font-medium transition">Products</a>
                <a href="index.html#about" id="mobile-nav-about" class="hover:text-yellow-400 font-medium transition">About</a>
                <a href="index.html#testimonials" id="mobile-nav-testimonials" class="hover:text-yellow-400 font-medium transition">Testimonials</a>
            </div>
        </nav>
    </div>
</header>

<!-- Checkout Content -->
<div id="checkout-page"
     x-data="{
            currentStep: 1,
            totalSteps: 3,
            billingIsSameAsShipping: true,
            paymentMethod: 'card',
            shippingInfo: {
                firstName: '',
                lastName: '',
                email: '',
                phone: '',
                address: '',
                city: '',
                state: '',
                zip: '',
                country: 'Lebanon'
            },
            billingInfo: {
                firstName: '',
                lastName: '',
                address: '',
                city: '',
                state: '',
                zip: '',
                country: 'Lebanon'
            },
            cardInfo: {
                number: '',
                name: '',
                expiry: '',
                cvv: ''
            },
            errors: {
                shipping: {},
                billing: {},
                payment: {}
            },

            get subtotal() { return Alpine.store('cart').getSubtotal(); },
            get shipping() { return Alpine.store('cart').getShippingCost(); },
            get tax() { return Alpine.store('cart').getTax(); },
            get total() { return Alpine.store('cart').getTotalPrice(); },
            get cartItems() { return Alpine.store('cart').getItems(); },
            formatPrice(price) { return '$' + price.toFixed(2); },

            validateShippingInfo() {
                this.errors.shipping = {};
                let isValid = true;

                if (!this.shippingInfo.firstName.trim()) {
                    this.errors.shipping.firstName = 'First name is required';
                    isValid = false;
                }

                if (!this.shippingInfo.lastName.trim()) {
                    this.errors.shipping.lastName = 'Last name is required';
                    isValid = false;
                }

                if (!this.shippingInfo.email.trim()) {
                    this.errors.shipping.email = 'Email is required';
                    isValid = false;
                } else if (!/\S+@\S+\.\S+/.test(this.shippingInfo.email)) {
                    this.errors.shipping.email = 'Email is invalid';
                    isValid = false;
                }

                if (!this.shippingInfo.phone.trim()) {
                    this.errors.shipping.phone = 'Phone is required';
                    isValid = false;
                }

                if (!this.shippingInfo.address.trim()) {
                    this.errors.shipping.address = 'Address is required';
                    isValid = false;
                }

                if (!this.shippingInfo.city.trim()) {
                    this.errors.shipping.city = 'City is required';
                    isValid = false;
                }

                if (!this.shippingInfo.zip.trim()) {
                    this.errors.shipping.zip = 'ZIP code is required';
                    isValid = false;
                }

                return isValid;
            },

            validateBillingInfo() {
                if (this.billingIsSameAsShipping) {
                    return true;
                }

                this.errors.billing = {};
                let isValid = true;

                if (!this.billingInfo.firstName.trim()) {
                    this.errors.billing.firstName = 'First name is required';
                    isValid = false;
                }

                if (!this.billingInfo.lastName.trim()) {
                    this.errors.billing.lastName = 'Last name is required';
                    isValid = false;
                }

                if (!this.billingInfo.address.trim()) {
                    this.errors.billing.address = 'Address is required';
                    isValid = false;
                }

                if (!this.billingInfo.city.trim()) {
                    this.errors.billing.city = 'City is required';
                    isValid = false;
                }

                if (!this.billingInfo.zip.trim()) {
                    this.errors.billing.zip = 'ZIP code is required';
                    isValid = false;
                }

                return isValid;
            },

            validatePaymentInfo() {
                if (this.paymentMethod === 'whatsapp') {
                    return true;
                }

                this.errors.payment = {};
                let isValid = true;

                if (!this.cardInfo.number.trim()) {
                    this.errors.payment.number = 'Card number is required';
                    isValid = false;
                } else if (!/^\d{16}$/.test(this.cardInfo.number.replace(/\s/g, ''))) {
                    this.errors.payment.number = 'Card number is invalid';
                    isValid = false;
                }

                if (!this.cardInfo.name.trim()) {
                    this.errors.payment.name = 'Name on card is required';
                    isValid = false;
                }

                if (!this.cardInfo.expiry.trim()) {
                    this.errors.payment.expiry = 'Expiry date is required';
                    isValid = false;
                } else if (!/^(0[1-9]|1[0-2])\/\d{2}$/.test(this.cardInfo.expiry)) {
                    this.errors.payment.expiry = 'Expiry date format should be MM/YY';
                    isValid = false;
                }

                if (!this.cardInfo.cvv.trim()) {
                    this.errors.payment.cvv = 'CVV is required';
                    isValid = false;
                } else if (!/^\d{3,4}$/.test(this.cardInfo.cvv)) {
                    this.errors.payment.cvv = 'CVV is invalid';
                    isValid = false;
                }

                return isValid;
            },

            goToNextStep() {
                if (this.currentStep === 1) {
                    if (this.validateShippingInfo()) {
                        this.currentStep++;
                        window.scrollTo(0, 0);
                    }
                } else if (this.currentStep === 2) {
                    if (this.validateBillingInfo()) {
                        this.currentStep++;
                        window.scrollTo(0, 0);
                    }
                }
            },

            goToPreviousStep() {
                if (this.currentStep > 1) {
                    this.currentStep--;
                    window.scrollTo(0, 0);
                }
            },

            copyShippingToBilling() {
                if (this.billingIsSameAsShipping) {
                    this.billingInfo.firstName = this.shippingInfo.firstName;
                    this.billingInfo.lastName = this.shippingInfo.lastName;
                    this.billingInfo.address = this.shippingInfo.address;
                    this.billingInfo.city = this.shippingInfo.city;
                    this.billingInfo.state = this.shippingInfo.state;
                    this.billingInfo.zip = this.shippingInfo.zip;
                    this.billingInfo.country = this.shippingInfo.country;
                }
            },

            placeOrder() {
                if (this.paymentMethod === 'card' && !this.validatePaymentInfo()) {
                    return;
                }

                if (this.paymentMethod === 'whatsapp') {
                    // Create order message for WhatsApp
                    let message = "Hello Optimen, I'd like to place an order:\n\n";

// Add customer info
message += `Name: ${this.shippingInfo.firstName} ${this.shippingInfo.lastName}\n`;
message += `Phone: ${this.shippingInfo.phone}\n`;
message += `Email: ${this.shippingInfo.email}\n\n`;

// Add shipping address
message += "Shipping Address:\n";
message += `${this.shippingInfo.address}\n`;
message += `${this.shippingInfo.city}, ${this.shippingInfo.state} ${this.shippingInfo.zip}\n`;
message += `${this.shippingInfo.country}\n\n`;

// Add order items
message += "Order Items:\n";
this.cartItems.forEach(item => {
message += `- ${item.product.name} x ${item.quantity}: $${(item.price * item.quantity).toFixed(2)}\n`;

// Add options if any
if (Object.keys(item.options).length > 0) {
Object.entries(item.options).forEach(([option, value]) => {
message += `  ${option}: ${value}\n`;
});
}
});

// Add order summary
message += `\nSubtotal: $${this.subtotal.toFixed(2)}\n`;
message += `Shipping: $${this.shipping.toFixed(2)}\n`;
message += `Tax: $${this.tax.toFixed(2)}\n`;
message += `Total: $${this.total.toFixed(2)}\n\n`;

message += "Please confirm my order. Thank you!";

// Open WhatsApp with the message
Alpine.store('cart').openWhatsApp(false, message);
} else {
// Simulate order placement with card payment
alert('Your order has been placed successfully!');
Alpine.store('cart').clearCart();
window.location.href = 'index.html';
}
}
}"
class="container mx-auto px-4 py-8">

<!-- Breadcrumb -->
<nav id="breadcrumb" class="flex mb-6 text-sm">
    <a href="index.html" class="text-blue-700 hover:text-blue-900 transition">Home</a>
    <span class="mx-2">/</span>
    <a href="cart.html" class="text-blue-700 hover:text-blue-900 transition">Cart</a>
    <span class="mx-2">/</span>
    <span class="text-gray-600">Checkout</span>
</nav>

<h1 id="checkout-title" class="text-3xl font-bold mb-8">Checkout</h1>

<!-- Empty Cart State -->
<div id="empty-checkout"
     x-data="{ cartIsEmpty: Alpine.store('cart').getTotalItems() === 0 }"
     x-show="cartIsEmpty"
     class="text-center py-12">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto text-gray-400 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
    </svg>
    <h2 id="empty-checkout-title" class="text-2xl font-bold mb-4">Your cart is empty</h2>
    <p id="empty-checkout-text" class="mb-6 text-gray-600">You need to add products to your cart before checkout.</p>
    <a href="products.html" class="bg-blue-700 hover:bg-blue-800 text-white py-2 px-6 rounded-lg transition">Start Shopping</a>
</div>

<!-- Checkout Steps -->
<div id="checkout-steps" x-show="cartItems.length > 0" class="mb-8">
    <div class="flex items-center">
        <div class="relative flex-1">
            <div :class="{ 'bg-blue-700': currentStep >= 1, 'bg-gray-300': currentStep < 1 }" class="h-2 rounded-l"></div>
            <div :class="{ 'bg-blue-700 text-white': currentStep >= 1, 'bg-gray-200 text-gray-600': currentStep < 1 }" class="absolute -top-3 left-0 transform -translate-x-1/2 w-8 h-8 rounded-full flex items-center justify-center font-bold">1</div>
        </div>
        <div class="relative flex-1">
            <div :class="{ 'bg-blue-700': currentStep >= 2, 'bg-gray-300': currentStep < 2 }" class="h-2"></div>
            <div :class="{ 'bg-blue-700 text-white': currentStep >= 2, 'bg-gray-200 text-gray-600': currentStep < 2 }" class="absolute -top-3 left-1/2 transform -translate-x-1/2 w-8 h-8 rounded-full flex items-center justify-center font-bold">2</div>
        </div>
        <div class="relative flex-1">
            <div :class="{ 'bg-blue-700': currentStep >= 3, 'bg-gray-300': currentStep < 3 }" class="h-2 rounded-r"></div>
            <div :class="{ 'bg-blue-700 text-white': currentStep >= 3, 'bg-gray-200 text-gray-600': currentStep < 3 }" class="absolute -top-3 right-0 transform -translate-x-1/2 w-8 h-8 rounded-full flex items-center justify-center font-bold">3</div>
        </div>
    </div>
    <div class="flex justify-between mt-4 text-sm text-center">
        <div :class="{ 'text-blue-700 font-medium': currentStep >= 1, 'text-gray-600': currentStep < 1 }">Shipping</div>
        <div :class="{ 'text-blue-700 font-medium': currentStep >= 2, 'text-gray-600': currentStep < 2 }">Billing</div>
        <div :class="{ 'text-blue-700 font-medium': currentStep >= 3, 'text-gray-600': currentStep < 3 }">Payment</div>
    </div>
</div>

<!-- Checkout Content -->
<div id="checkout-content" x-show="cartItems.length > 0" class="flex flex-col lg:flex-row gap-8">
    <!-- Checkout Forms -->
    <div id="checkout-forms" class="lg:w-2/3">
        <!-- Step 1: Shipping Information -->
        <div id="shipping-step" x-show="currentStep === 1" class="bg-white rounded-lg shadow-md p-6">
            <h2 id="shipping-title" class="text-xl font-bold mb-6">Shipping Information</h2>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div>
                    <label for="shipping-first-name" class="block text-sm font-medium mb-1">First Name *</label>
                    <input
                            type="text"
                            id="shipping-first-name"
                            x-model="shippingInfo.firstName"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                    <p x-show="errors.shipping.firstName" x-text="errors.shipping.firstName" class="mt-1 text-sm text-red-600"></p>
                </div>
                <div>
                    <label for="shipping-last-name" class="block text-sm font-medium mb-1">Last Name *</label>
                    <input
                            type="text"
                            id="shipping-last-name"
                            x-model="shippingInfo.lastName"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                    <p x-show="errors.shipping.lastName" x-text="errors.shipping.lastName" class="mt-1 text-sm text-red-600"></p>
                </div>
                <div>
                    <label for="shipping-email" class="block text-sm font-medium mb-1">Email Address *</label>
                    <input
                            type="email"
                            id="shipping-email"
                            x-model="shippingInfo.email"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                    <p x-show="errors.shipping.email" x-text="errors.shipping.email" class="mt-1 text-sm text-red-600"></p>
                </div>
                <div>
                    <label for="shipping-phone" class="block text-sm font-medium mb-1">Phone Number *</label>
                    <input
                            type="tel"
                            id="shipping-phone"
                            x-model="shippingInfo.phone"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                    <p x-show="errors.shipping.phone" x-text="errors.shipping.phone" class="mt-1 text-sm text-red-600"></p>
                </div>
                <div class="sm:col-span-2">
                    <label for="shipping-address" class="block text-sm font-medium mb-1">Address *</label>
                    <input
                            type="text"
                            id="shipping-address"
                            x-model="shippingInfo.address"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                    <p x-show="errors.shipping.address" x-text="errors.shipping.address" class="mt-1 text-sm text-red-600"></p>
                </div>
                <div>
                    <label for="shipping-city" class="block text-sm font-medium mb-1">City *</label>
                    <input
                            type="text"
                            id="shipping-city"
                            x-model="shippingInfo.city"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                    <p x-show="errors.shipping.city" x-text="errors.shipping.city" class="mt-1 text-sm text-red-600"></p>
                </div>
                <div>
                    <label for="shipping-state" class="block text-sm font-medium mb-1">State/Province</label>
                    <input
                            type="text"
                            id="shipping-state"
                            x-model="shippingInfo.state"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                </div>
                <div>
                    <label for="shipping-zip" class="block text-sm font-medium mb-1">ZIP/Postal Code *</label>
                    <input
                            type="text"
                            id="shipping-zip"
                            x-model="shippingInfo.zip"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                    <p x-show="errors.shipping.zip" x-text="errors.shipping.zip" class="mt-1 text-sm text-red-600"></p>
                </div>
                <div>
                    <label for="shipping-country" class="block text-sm font-medium mb-1">Country *</label>
                    <select
                            id="shipping-country"
                            x-model="shippingInfo.country"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                        <option value="Lebanon">Lebanon</option>
                        <option value="Syria">Syria</option>
                        <option value="Jordan">Jordan</option>
                        <option value="Iraq">Iraq</option>
                        <option value="UAE">UAE</option>
                    </select>
                </div>
            </div>

            <div class="mt-8 flex justify-end">
                <button @click="goToNextStep()" class="bg-blue-700 hover:bg-blue-800 text-white py-2 px-6 rounded-lg transition flex items-center">
                    Continue to Billing
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                    </svg>
                </button>
            </div>
        </div>

        <!-- Step 2: Billing Information -->
        <div id="billing-step" x-show="currentStep === 2" class="bg-white rounded-lg shadow-md p-6">
            <h2 id="billing-title" class="text-xl font-bold mb-6">Billing Information</h2>

            <div class="mb-6">
                <label class="flex items-center">
                    <input
                            type="checkbox"
                            x-model="billingIsSameAsShipping"
                            @change="copyShippingToBilling()"
                            class="h-5 w-5 text-blue-700 focus:ring-blue-500 border-gray-300 rounded"
                    >
                    <span class="ml-2 text-gray-700">Billing address is the same as shipping address</span>
                </label>
            </div>

            <div x-show="!billingIsSameAsShipping">
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div>
                        <label for="billing-first-name" class="block text-sm font-medium mb-1">First Name *</label>
                        <input
                                type="text"
                                id="billing-first-name"
                                x-model="billingInfo.firstName"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        >
                        <p x-show="errors.billing.firstName" x-text="errors.billing.firstName" class="mt-1 text-sm text-red-600"></p>
                    </div>
                    <div>
                        <label for="billing-last-name" class="block text-sm font-medium mb-1">Last Name *</label>
                        <input
                                type="text"
                                id="billing-last-name"
                                x-model="billingInfo.lastName"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        >
                        <p x-show="errors.billing.lastName" x-text="errors.billing.lastName" class="mt-1 text-sm text-red-600"></p>
                    </div>
                    <div class="sm:col-span-2">
                        <label for="billing-address" class="block text-sm font-medium mb-1">Address *</label>
                        <input
                                type="text"
                                id="billing-address"
                                x-model="billingInfo.address"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        >
                        <p x-show="errors.billing.address" x-text="errors.billing.address" class="mt-1 text-sm text-red-600"></p>
                    </div>
                    <div>
                        <label for="billing-city" class="block text-sm font-medium mb-1">City *</label>
                        <input
                                type="text"
                                id="billing-city"
                                x-model="billingInfo.city"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        >
                        <p x-show="errors.billing.city" x-text="errors.billing.city" class="mt-1 text-sm text-red-600"></p>
                    </div>
                    <div>
                        <label for="billing-state" class="block text-sm font-medium mb-1">State/Province</label>
                        <input
                                type="text"
                                id="billing-state"
                                x-model="billingInfo.state"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        >
                    </div>
                    <div>
                        <label for="billing-zip" class="block text-sm font-medium mb-1">ZIP/Postal Code *</label>
                        <input
                                type="text"
                                id="billing-zip"
                                x-model="billingInfo.zip"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        >
                        <p x-show="errors.billing.zip" x-text="errors.billing.zip" class="mt-1 text-sm text-red-600"></p>
                    </div>
                    <div>
                        <label for="billing-country" class="block text-sm font-medium mb-1">Country *</label>
                        <select
                                id="billing-country"
                                x-model="billingInfo.country"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        >
                            <option value="Lebanon">Lebanon</option>
                            <option value="Syria">Syria</option>
                            <option value="Jordan">Jordan</option>
                            <option value="Iraq">Iraq</option>
                            <option value="UAE">UAE</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="mt-8 flex justify-between">
                <button @click="goToPreviousStep()" class="border border-gray-300 hover:bg-gray-100 text-gray-700 py-2 px-6 rounded-lg transition flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                    </svg>
                    Back to Shipping
                </button>
                <button @click="goToNextStep()" class="bg-blue-700 hover:bg-blue-800 text-white py-2 px-6 rounded-lg transition flex items-center">
                    Continue to Payment
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                    </svg>
                </button>
            </div>
        </div>

        <!-- Step 3: Payment -->
        <div id="payment-step" x-show="currentStep === 3" class="bg-white rounded-lg shadow-md p-6">
            <h2 id="payment-title" class="text-xl font-bold mb-6">Payment Method</h2>

            <div class="mb-6">
                <div class="flex items-center mb-4">
                    <input
                            type="radio"
                            id="payment-card"
                            x-model="paymentMethod"
                            value="card"
                            class="h-5 w-5 text-blue-700 focus:ring-blue-500 border-gray-300"
                    >
                    <label for="payment-card" class="ml-2 text-gray-700 flex items-center">
                        <span class="mr-2">Credit/Debit Card</span>
                        <div class="flex space-x-1">
                            <svg class="h-6 w-auto" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect width="48" height="48" fill="white"/>
                                <path d="M44 24C44 35.046 35.046 44 24 44C12.954 44 4 35.046 4 24C4 12.954 12.954 4 24 4C35.046 4 44 12.954 44 24Z" fill="#FFB600"/>
                                <path d="M24 37C31.1797 37 37 31.1797 37 24C37 16.8203 31.1797 11 24 11C16.8203 11 11 16.8203 11 24C11 31.1797 16.8203 37 24 37Z" fill="#EB001B"/>
                                <path d="M24 37C29.0751 37 33.3743 34.1543 35.5 30C36.9674 26.9029 38 20.3971 34.5 17.5C30.9308 14.4966 26.3622 14.3093 24 14C17.8493 14 11 16.8203 11 24C11 31.1797 16.8203 37 24 37Z" fill="#C69A00"/>
                            </svg>
                            <svg class="h-6 w-auto" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect width="48" height="48" fill="white"/>
                                <path d="M45 35H3V13H45V35Z" fill="#0079BE"/>
                                <path d="M28.8771 26.3328H26.5363V20.668H28.8771V26.3328Z" fill="white"/>
                                <path d="M26.2773 23.5004C26.2773 25.0689 27.5297 26.3321 29.1357 26.3321C29.7857 26.3321 30.3644 26.1462 30.8644 25.789V26.3321H33.1644V20.6683H30.8644V21.2114C30.3752 20.8542 29.7856 20.6683 29.1357 20.6683C27.5297 20.6673 26.2773 21.9319 26.2773 23.5004ZM29.1356 24.4173C28.6147 24.4173 28.1986 24.0097 28.1986 23.5004C28.1986 22.9911 28.6139 22.5835 29.1356 22.5835C29.6574 22.5835 30.0727 22.9911 30.0727 23.5004C30.0727 24.0097 29.6565 24.4173 29.1356 24.4173Z" fill="white"/>
                                <path d="M34.4229 23.5004C34.4229 25.0689 35.6753 26.3321 37.2812 26.3321C37.9313 26.3321 38.5099 26.1462 39.0099 25.789V26.3321H41.3099V18.7532H39.0099V21.2114C38.5207 20.8542 37.9312 20.6683 37.2812 20.6683C35.6753 20.6673 34.4229 21.9319 34.4229 23.5004ZM37.2812 24.4173C36.7603 24.4173 36.3442 24.0097 36.3442 23.5004C36.3442 22.9911 36.7594 22.5835 37.2812 22.5835C37.8029 22.5835 38.2182 22.9911 38.2182 23.5004C38.2182 24.0097 37.8021 24.4173 37.2812 24.4173Z" fill="white"/>
                                <path d="M21.6899 22.9188C21.2007 21.5997 19.7094 20.6673 18.0125 20.6673C16.0106 20.6673 14.3892 21.9319 14.3892 23.4993C14.3892 24.8742 15.5708 26.03 17.2341 26.2908L17.9389 26.3936C18.7306 26.5235 19.1233 26.7843 19.1233 27.1192C19.1233 27.5592 18.6222 27.8758 17.8732 27.8758C17.0034 27.8758 16.5022 27.559 16.3368 27.0121H14.3565C14.5654 28.4909 15.8831 29.4234 17.8514 29.4234C19.9324 29.4234 21.1576 28.2676 21.1576 26.933C21.1576 25.6013 20.0325 24.5376 18.3694 24.2766L17.6646 24.1738C16.9815 24.0654 16.5022 23.8724 16.5022 23.4763C16.5022 23.0584 16.9379 22.7636 17.5821 22.7636C18.3257 22.7636 18.7522 23.1584 18.8739 23.613H21.6899V22.9188Z" fill="white"/>
                                <path d="M21.9209 26.3328H24.242V20.668H21.9209V26.3328Z" fill="white"/>
                                <path d="M24.499 18.7532H21.6426V20.668H24.499V18.7532Z" fill="white"/>
                                <path d="M13.4028 20.668H10.9783V19.1915H8.67749V20.668H7.21198V22.4284H8.67749V24.4175C8.67749 25.7056 9.45651 26.465 10.7861 26.465C11.3757 26.465 12.0912 26.3124 12.5268 26.0284V24.3253C12.2307 24.4845 11.8436 24.5819 11.5366 24.5819C11.0681 24.5819 10.9783 24.3693 10.9783 23.952V22.4284H13.4028V20.668Z" fill="white"/>
                            </svg>
                        </div>
                    </label>
                </div>
                <div class="flex items-center">
                    <input
                            type="radio"
                            id="payment-whatsapp"
                            x-model="paymentMethod"
                            value="whatsapp"
                            class="h-5 w-5 text-blue-700 focus:ring-blue-500 border-gray-300"
                    >
                    <label for="payment-whatsapp" class="ml-2 text-gray-700 flex items-center">
                        <span class="mr-2">Pay via WhatsApp</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-500" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M17.498 14.382c-.301-.15-1.767-.867-2.04-.966-.273-.101-.473-.15-.673.15-.197.295-.771.964-.944 1.162-.175.195-.349.21-.646.075-.3-.15-1.263-.465-2.403-1.485-.888-.795-1.484-1.77-1.66-2.07-.174-.3-.019-.465.13-.615.136-.135.301-.345.451-.523.146-.181.194-.301.297-.496.1-.21.049-.375-.025-.524-.075-.15-.672-1.62-.922-2.206-.24-.584-.487-.51-.672-.51-.172-.015-.371-.015-.571-.015-.2 0-.523.074-.797.359-.273.3-1.045 1.02-1.045 2.475s1.07 2.865 1.219 3.075c.149.195 2.105 3.195 5.1 4.485.714.3 1.27.48 1.704.629.714.227 1.365.195 1.88.121.574-.091 1.767-.721 2.016-1.426.255-.705.255-1.29.18-1.425-.074-.135-.27-.21-.57-.345m-5.446 7.443h-.016c-1.77 0-3.524-.48-5.055-1.38l-.36-.214-3.75.975 1.005-3.645-.239-.375c-.99-1.576-1.516-3.391-1.516-5.26 0-5.445 4.455-9.885 9.942-9.885 2.654 0 5.145 1.035 7.021 2.91 1.875 1.859 2.909 4.35 2.909 6.99-.004 5.444-4.46 9.885-9.935 9.885M20.52 3.449C18.24 1.245 15.24 0 12.045 0 5.463 0 .104 5.334.101 11.893c0 2.096.549 4.14 1.595 5.945L0 24l6.335-1.652c1.746.943 3.71 1.444 5.71 1.447h.006c6.585 0 11.946-5.336 11.949-11.896 0-3.176-1.24-6.165-3.495-8.411" />
                        </svg>
                    </label>
                </div>
            </div>

            <div x-show="paymentMethod === 'card'" class="mb-6">
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div class="sm:col-span-2">
                        <label for="card-number" class="block text-sm font-medium mb-1">Card Number *</label>
                        <input
                                type="text"
                                id="card-number"
                                x-model="cardInfo.number"
                                placeholder="1234 5678 9012 3456"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        >
                        <p x-show="errors.payment.number" x-text="errors.payment.number" class="mt-1 text-sm text-red-600"></p>
                    </div>
                    <div class="sm:col-span-2">
                        <label for="card-name" class="block text-sm font-medium mb-1">Name on Card *</label>
                        <input
                                type="text"
                                id="card-name"
                                x-model="cardInfo.name"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        >
                        <p x-show="errors.payment.name" x-text="errors.payment.name" class="mt-1 text-sm text-red-600"></p>
                    </div>
                    <div>
                        <label for="card-expiry" class="block text-sm font-medium mb-1">Expiry Date *</label>
                        <input
                                type="text"
                                id="card-expiry"
                                x-model="cardInfo.expiry"
                                placeholder="MM/YY"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        >
                        <p x-show="errors.payment.expiry" x-text="errors.payment.expiry" class="mt-1 text-sm text-red-600"></p>
                    </div>
                    <div>
                        <label for="card-cvv" class="block text-sm font-medium mb-1">CVV *</label>
                        <input
                                type="text"
                                id="card-cvv"
                                x-model="cardInfo.cvv"
                                placeholder="123"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        >
                        <p x-show="errors.payment.cvv" x-text="errors.payment.cvv" class="mt-1 text-sm text-red-600"></p>
                    </div>
                </div>
            </div>

            <div x-show="paymentMethod === 'whatsapp'" class="mb-6 p-4 bg-green-50 rounded-lg">
                <div class="flex items-center mb-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500 mr-2" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M17.498 14.382c-.301-.15-1.767-.867-2.04-.966-.273-.101-.473-.15-.673.15-.197.295-.771.964-.944 1.162-.175.195-.349.21-.646.075-.3-.15-1.263-.465-2.403-1.485-.888-.795-1.484-1.77-1.66-2.07-.174-.3-.019-.465.13-.615.136-.135.301-.345.451-.523.146-.181.194-.301.297-.496.1-.21.049-.375-.025-.524-.075-.15-.672-1.62-.922-2.206-.24-.584-.487-.51-.672-.51-.172-.015-.371-.015-.571-.015-.2 0-.523.074-.797.359-.273.3-1.045 1.02-1.045 2.475s1.07 2.865 1.219 3.075c.149.195 2.105 3.195 5.1 4.485.714.3 1.27.48 1.704.629.714.227 1.365.195 1.88.121.574-.091 1.767-.721 2.016-1.426.255-.705.255-1.29.18-1.425-.074-.135-.27-.21-.57-.345m-5.446 7.443h-.016c-1.77 0-3.524-.48-5.055-1.38l-.36-.214-3.75.975 1.005-3.645-.239-.375c-.99-1.576-1.516-3.391-1.516-5.26 0-5.445 4.455-9.885 9.942-9.885 2.654 0 5.145 1.035 7.021 2.91 1.875 1.859 2.909 4.35 2.909 6.99-.004 5.444-4.46 9.885-9.935 9.885M20.52 3.449C18.24 1.245 15.24 0 12.045 0 5.463 0 .104 5.334.101 11.893c0 2.096.549 4.14 1.595 5.945L0 24l6.335-1.652c1.746.943 3.71 1.444 5.71 1.447h.006c6.585 0 11.946-5.336 11.949-11.896 0-3.176-1.24-6.165-3.495-8.411" />
                    </svg>
                    <h3 class="font-bold">WhatsApp Checkout</h3>
                </div>
                <p class="text-gray-700 mb-2">Your order details will be sent to our sales team via WhatsApp. You can then arrange payment options directly with them.</p>
                <p class="text-gray-700">This is a convenient option for customers who prefer to pay through bank transfer, cash on delivery, or other local payment methods.</p>
            </div>

            <div class="mt-8 flex justify-between">
                <button @click="goToPreviousStep()" class="border border-gray-300 hover:bg-gray-100 text-gray-700 py-2 px-6 rounded-lg transition flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                    </svg>
                    Back to Billing
                </button>
                <button @click="placeOrder()" class="bg-blue-700 hover:bg-blue-800 text-white py-2 px-6 rounded-lg transition flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                    </svg>
                    Place Order
                </button>
            </div>
        </div>
    </div>

    <!-- Order Summary -->
    <div id="order-summary" class="lg:w-1/3">
        <div class="bg-white rounded-lg shadow-md p-6 sticky top-24">
            <h2 id="summary-title" class="text-xl font-bold mb-6">Order Summary</h2>

            <div class="max-h-64 overflow-y-auto mb-6">
                <template x-for="(item, index) in cartItems" :key="index">
                    <div class="flex items-start py-4 border-b border-gray-200 last:border-b-0">
                        <img :src="item.product.images[0] || '/api/placeholder/60/60'" :alt="item.product.name" class="w-16 h-16 object-cover rounded mr-4">
                        <div class="flex-grow">
                            <h3 x-text="item.product.name" class="font-medium"></h3>
                            <div x-show="Object.keys(item.options).length > 0" class="mt-1 text-sm text-gray-600">
                                <template x-for="(value, option) in item.options" :key="option">
                                    <div>
                                        <span x-text="option.charAt(0).toUpperCase() + option.slice(1) + ': '"></span>
                                        <span x-text="value"></span>
                                    </div>
                                </template>
                            </div>
                            <div class="flex justify-between mt-2">
                                <span x-text="'$' + item.price.toFixed(2)"></span>
                                <span x-text="'x ' + item.quantity"></span>
                            </div>
                        </div>
                    </div>
                </template>
            </div>

            <div class="space-y-4">
                <div class="flex justify-between">
                    <span>Subtotal</span>
                    <span x-text="formatPrice(subtotal)" class="font-medium"></span>
                </div>
                <div class="flex justify-between">
                    <span>Shipping</span>
                    <span x-text="formatPrice(shipping)" class="font-medium"></span>
                </div>
                <div class="flex justify-between">
                    <span>Tax</span>
                    <span x-text="formatPrice(tax)" class="font-medium"></span>
                </div>

                <div class="border-t border-gray-200 pt-4 mt-4">
                    <div class="flex justify-between">
                        <span class="text-lg font-bold">Total</span>
                        <span x-text="formatPrice(total)" class="text-lg font-bold"></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Secure Checkout -->
        <div class="mt-6 bg-white rounded-lg shadow-md p-4">
            <div class="flex items-center mb-4">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                </svg>
                <h3 id="secure-checkout-title" class="font-bold">Secure Checkout</h3>
            </div>
            <p id="secure-checkout-text" class="text-sm text-gray-600">We protect your payment information using encryption to provide bank-level security.</p>
        </div>

        <!-- Need Help -->
        <div class="mt-6 bg-white rounded-lg shadow-md p-4">
            <div class="flex items-center mb-4">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-700 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <h3 id="need-help-title" class="font-bold">Need Help?</h3>
            </div>
            <p id="need-help-text" class="text-sm text-gray-600 mb-2">Have questions or need assistance with your order?</p>
            <a href="#" @click.prevent="Alpine.store('ui').openWhatsApp()" class="text-blue-700 hover:text-blue-900 transition text-sm flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                </svg>
                Contact us on WhatsApp
            </a>
        </div>
    </div>
</div>
</div>

<!-- Footer -->
<footer id="main-footer" class="bg-blue-900 text-white py-12 mt-12">
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <div id="footer-about">
                <h3 id="footer-about-title" class="text-xl font-bold mb-4">Optimen</h3>
                <p id="footer-about-text" class="mb-4">Your trusted source for premium gym supplements in Lebanon, helping you achieve your fitness goals since 2015.</p>
                <div id="footer-social" class="flex space-x-4">
                    <a href="#" id="social-facebook" class="hover:text-yellow-400 transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" />
                        </svg>
                    </a>
                    <a href="#" id="social-instagram" class="hover:text-yellow-400 transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.332.014 7.052.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z" />
                        </svg>
                    </a>
                    <a href="#" id="social-twitter" class="hover:text-yellow-400 transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84" />
                        </svg>
                    </a>
                </div>
            </div>

            <div id="footer-links">
                <h3 id="footer-links-title" class="text-xl font-bold mb-4">Quick Links</h3>
                <ul class="space-y-2">
                    <li><a href="index.html" id="footer-link-home" class="hover:text-yellow-400 transition">Home</a></li>
                    <li><a href="products.html" id="footer-link-products" class="hover:text-yellow-400 transition">Products</a></li>
                    <li><a href="index.html#about" id="footer-link-about" class="hover:text-yellow-400 transition">About Us</a></li>
                    <li><a href="index.html#testimonials" id="footer-link-testimonials" class="hover:text-yellow-400 transition">Testimonials</a></li>
                </ul>
            </div>

            <div id="footer-categories">
                <h3 id="footer-categories-title" class="text-xl font-bold mb-4">Categories</h3>
                <ul id="footer-categories-list"
                    x-data="{ topCategories: Category.getFeatured().slice(0, 5) }"
                    class="space-y-2">
                    <template x-for="category in topCategories" :key="category.id">
                        <li>
                            <a :href="'products.html?category=' + category.id"
                               x-text="category.name"
                               class="hover:text-yellow-400 transition"></a>
                        </li>
                    </template>
                </ul>
            </div>

            <div id="footer-contact">
                <h3 id="footer-contact-title" class="text-xl font-bold mb-4">Contact Us</h3>
                <ul class="space-y-2">
                    <li id="contact-address" class="flex items-start">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                        <span>123 Fitness Street, Beirut, Lebanon</span>
                    </li>
                    <li id="contact-phone" class="flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                        </svg>
                        <span>+961 1 234 567</span>
                    </li>
                    <li id="contact-email" class="flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                        </svg>
                        <span>info@optimen.com</span>
                    </li>
                    <li id="contact-hours" class="flex items-start">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span>Mon-Sat: 9AM - 8PM<br>Sunday: 10AM - 6PM</span>
                    </li>
                </ul>
            </div>
        </div>

        <div id="footer-bottom" class="mt-12 pt-8 border-t border-blue-800 text-center">
            <p id="footer-copyright">&copy; 2025 Optimen. All rights reserved. Website designed with ♥ by DV Team</p>
        </div>
    </div>
</footer>

<!-- Floating WhatsApp Icon -->
<a href="#" id="whatsapp-icon" @click.prevent="Alpine.store('ui').openWhatsApp()" class="fixed bottom-6 right-6 bg-green-500 hover:bg-green-600 text-white p-3 rounded-full shadow-lg transition z-50">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
    </svg>
</a>

<!-- Go Up Button -->
<button id="go-up-button" @click="Alpine.store('ui').scrollToTop()" x-data x-show="window.scrollY > 300" class="fixed bottom-6 left-6 bg-blue-700 hover:bg-blue-800 text-white p-3 rounded-full shadow-lg transition z-50" style="display: none;">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" />
    </svg>
</button>

<script>
    // Initialize Alpine.js stores
    document.addEventListener('alpine:init', () => {
        // UI Store
        Alpine.store('ui', {
            mobileMenuOpen: false,

            toggleMobileMenu() {
                this.mobileMenuOpen = !this.mobileMenuOpen;
            },

            scrollToTop() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            },

            openWhatsApp(withOrderDetails = false, customMessage = '') {
                // Open WhatsApp with a predefined message
                let message = customMessage;

                if (!message) {
                    message = withOrderDetails
                        ? "Hello Optimen, I'd like to place an order. Please assist me with the checkout process."
                        : "Hello Optimen, I'm interested in your products.";
                }

                window.open(`https://wa.me/96112345678?text=${encodeURIComponent(message)}`, '_blank');
            }
        });

        // Check scroll position for "Go Up" button
        window.addEventListener('scroll', () => {
            const goUpButton = document.getElementById('go-up-button');
            if (goUpButton) {
                if (window.scrollY > 300) {
                    goUpButton.style.display = 'block';
                } else {
                    goUpButton.style.display = 'none';
                }
            }
        });
    });
</script>
</body>
</html>